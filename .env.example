# OAuth Server (code-city-landing) Environment Variables
# Copy this to .env.local and update with your values
# ======================================
# Git Mosaics
# ======================================
S3_GIT_MOSAICS=git-mosaics

# ======================================
# REQUIRED: GitHub OAuth Configuration
# ======================================
# Get these from: https://github.com/settings/developers
GITHUB_CLIENT_ID=your_github_oauth_app_client_id
GITHUB_CLIENT_SECRET=your_github_oauth_app_client_secret

# Optional: GitHub OAuth redirect URI (defaults to localhost:3002)
# GITHUB_REDIRECT_URI=http://localhost:3002/api/orbit/auth/github/callback

# ======================================
# REQUIRED: Authentication Configuration
# ======================================
# Server URL for OAuth callbacks
# Production: https://your-domain.com
# Development: http://localhost:3000
NEXTAUTH_URL=http://localhost:3000

# NextAuth.js secret for JWT encryption (required in production)
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=your-nextauth-secret-change-in-production

# JWT Secret for Room Tokens (required for sync)
# Generate with: openssl rand -base64 32
# MUST be the same on sync server!
ROOM_TOKEN_SECRET=development-secret-change-in-production

# ======================================
# OPTIONAL: GitHub API Configuration
# ======================================
# Server-side GitHub API token for higher rate limits
# Create at: https://github.com/settings/tokens
# Scopes needed: repo (read), user (read)
GITHUB_TOKEN=your_github_personal_access_token

# GitHub Releases Token (optional - for download feature)
# Create a token with read-only access to public releases
# Only needed if you want the download button to work
GITHUB_RELEASES_READONLY_TOKEN=your_readonly_releases_token

# GitHub Token for Suffix Discovery (optional - for automatic issue creation)
# This token automatically creates GitHub issues when new file extensions
# are discovered that don't have color configurations yet.
# Scopes needed: public_repo (for public repos) or repo (for private repos)
# Target repo: https://github.com/a24z-ai/git-gallery-palette
GITHUB_PAT_SUFFIX_TRACKING=ghp_xxxxxxxxxxxxxxxxxxxx

# Suffix Discovery Configuration (optional)
# Minimum number of files with a suffix before creating an issue (default: 10)
SUFFIX_MIN_OCCURRENCES=10

# Maximum issues to create per run to avoid rate limiting (default: 3)
SUFFIX_MAX_ISSUES_PER_RUN=3

# Enable/disable automatic suffix discovery (default: true)
# Set to 'false' to disable automatic issue creation
SUFFIX_AUTO_DISCOVERY=true

# ======================================
# REQUIRED FOR S3 FEATURES: AWS/S3 Configuration
# ======================================
# Required if using feedback or orbit features
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key

# S3 bucket for feedback storage
FEEDBACK_S3_BUCKET=your-feedback-bucket

# S3 bucket for orbit user data and room sessions
ORBIT_S3_BUCKET=your-orbit-bucket

# S3 bucket for filetree caching
FILETREE_CACHE_BUCKET=code-cosmos-filetree-cache

# ======================================
# OPTIONAL: Admin Configuration
# ======================================
# Secret for admin endpoints (waitlist management)
# Generate with: openssl rand -hex 32
ORBIT_ADMIN_SECRET=your-admin-secret

# API key for admin feedback management
# Generate with: openssl rand -hex 32
ADMIN_API_KEY=your-admin-api-key

# ======================================
# OPTIONAL: PR Image Generation
# ======================================
# Secret for PR image generation endpoint
# Leave empty for public access (not recommended for production)
# Generate with: openssl rand -hex 32
# This secret is used to create signed URLs with expiration
PR_IMAGE_SECRET=

# Optional: Override base URL for PR images (auto-detected on Vercel)
# CODE_CITY_LANDING_URL=https://your-domain.com

# ======================================
# OPTIONAL: Server Configuration
# ======================================
# Environment (development, production, test)
NODE_ENV=development

# Server hostname (defaults to localhost)
# HOSTNAME=localhost

# Server port (defaults to 3002)
# PORT=3002

# ======================================
# NOTES
# ======================================
# Required variables:
# - GITHUB_CLIENT_ID
# - GITHUB_CLIENT_SECRET
# - NEXTAUTH_URL
# - NEXTAUTH_SECRET (required in production)
# - ROOM_TOKEN_SECRET
#
# AWS/S3 variables are required if you want to:
# - Store user feedback (requires FEEDBACK_S3_BUCKET)
# - Use orbit features (requires ORBIT_S3_BUCKET)
# - Manage waitlist data (requires ORBIT_S3_BUCKET)
# 
# Note: FEEDBACK_S3_BUCKET and ORBIT_S3_BUCKET should be
# separate buckets for better organization and security
#
# Admin secrets are only required if you want to:
# - Access admin endpoints
# - Manage feedback status
# - Control waitlist access